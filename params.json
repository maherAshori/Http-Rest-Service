{
  "name": "Http-rest-service",
  "tagline": "angular & API Rest",
  "body": "# Http-Rest-Service\r\nangular &amp; API Rest\r\n\r\n<h5>more about restApi</h5>\r\n<p><a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\">Representational state transfer</a></p>\r\n<p><a href=\"https://www.nuget.org/packages/AngularHttpRest/\">nuget package link</a></p>\r\n\r\n<h5>Angular App</h5>\r\n```javascript\r\nvar app = angular.module(\"YourApplication\", [\"HttpRestApp\"]);\r\n```\r\n\r\n<h5>Angular App Run</h5>\r\n```javascript\r\nvar run = function (restService) {\r\n    var httpHeaders = {\r\n        'Content-Type': \"application/json\",\r\n        'SchoolId': \"8ae37cfa-905b-4c71-ad03-bf416d93bdf8\"\r\n    }\r\n    restService.setBaseUrl(\"http://192.168.3.204:9005/api/\", httpHeaders);\r\n}\r\n\r\nrun.$inject = [\"RestService\"];\r\napp.run(run);\r\n```\r\n\r\n<h1>How to use RestService in angular.controller</h1>\r\n\r\n```javascript\r\nvar controller = function (scope, service) {\r\n  \r\n  ///call getStudents from service\r\n  ///url will send like this: \"http://192.168.3.204:9005/api/Student\"\r\n  service.getStudents(function(data){\r\n    console.log(data);\r\n  });\r\n  \r\n  ///call getTeacher by id from service\r\n  ///url will send like this: \"http://192.168.3.204:9005/api/Teacher/00000000-0000-0000-0000-000000000000\"\r\n  var id = \"00000000-0000-0000-0000-000000000000\";\r\n  service.getTeacher([id],function(data){\r\n    console.log(data);\r\n  });\r\n  \r\n  ///call getStudent by nationalCode from service\r\n  ///url will send like this: \"http://192.168.3.204:9005/api/Student?nationalCode=0123456789\"\r\n  var params = {\r\n    nationalCode: \"0123456789\"\r\n  };\r\n  \r\n  service.getStudent(params,function(data){\r\n    console.log(data);\r\n  });\r\n  \r\n  ///call createStudent from service\r\n  ///url will send like this: \"http://192.168.3.204:9005/api/Student\"\r\n  $scope.clickToPost = function(){\r\n      var command = {firstName: \"x\", lastname: \"y\", nationalCode: \"0123456789\"};\r\n      \r\n      service.createStudent(command, function(response){\r\n        console.log(response);\r\n      });\r\n  }\r\n  \r\n  ///call editStudent from service\r\n  ///url will send like this: \"http://192.168.3.204:9005/api/Student\"\r\n  $scope.clickToPut = function(){\r\n      var command = {firstName: \"x\", lastname: \"y\", nationalCode: \"0123456789\"};\r\n      \r\n      service.editStudent(command, function(response){\r\n        console.log(response);\r\n      });\r\n  }\r\n  \r\n  ///call deleteStudent by id from service\r\n  ///url will send like this: \"http://192.168.3.204:9005/api/Student/00000000-0000-0000-0000-000000000000\"\r\n  $scope.clickToDelete = function(){\r\n      var id =\"00000000-0000-0000-0000-000000000000\";\r\n      \r\n      service.deleteStudent([id], function(response){\r\n        console.log(response);\r\n      });\r\n  }\r\n  \r\n  ///call deleteStudent by id & code from service\r\n  ///url will send like this: \"http://192.168.3.204:9005/api/Student?id=00000000-0000-0000-0000-000000000000&code=0123456789\"\r\n  ///FromUri: http://www.asp.net/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api\r\n  $scope.clickToDelete = function(){\r\n      var command = {id: \"00000000-0000-0000-0000-000000000000\", code: 1000}\r\n      \r\n      service.deleteStudent(command, function(response){\r\n        console.log(response);\r\n      });\r\n  }\r\n});\r\n\r\ncontroller.$inject = [\"$scope\", \"Service\"];\r\napp.controller(\"Controller\", controller);\r\n```\r\n\r\n<h1>How to use RestService in angular.service</h1>\r\n\r\n<h5>Angular Service: All types of get</h5>\r\n```javascript\r\nvar service = function (restService) {\r\n    ///StudentController & TeacherController\r\n    var api = { \r\n        studentApi: \"Student\", \r\n        teacherApi: \"Teacher\", \r\n        school: {\r\n          teacherApi: \"Teacher\",\r\n          url: \"http://192.168.3.202:9050/api/\"\r\n        } \r\n    }; \r\n\r\n    ///call get()\r\n    ///null: without parameters\r\n    ///api: \"StudentController\"\r\n    this.getStudents = function (then) {\r\n        restService.get(null, api.studentApi).then(then);\r\n    };\r\n\r\n    ///call get(guid id)\r\n    ///params: [id]\r\n    ///api: \"TeacherController\"\r\n    this.getTeacher = function (params, then) {\r\n        restService.get(params, api.teacherApi).then(then);\r\n    }\r\n    \r\n    ///call get(NationalCode nationalCode)\r\n    ///params: {nationalCode: \"0123456789\"}\r\n    ///api: \"StudentController\"\r\n    ///true: type is \"QueryString\"\r\n    this.getStudent = function (params, then) {\r\n        restService.get(params, api.studentApi, true).then(then);\r\n    }\r\n    \r\n    ///from api in other host\r\n    ///call get(guid id) \r\n    ///params: [id]\r\n    ///api: \"TeacherController\"\r\n    ///false: type isn't \"QueryString\"\r\n    ///url: \"http://192.168.3.202:9050/api/Teacher\"\r\n    this.getTeacherFromOtherSchool = function (params, then) {\r\n        restService.get(params, api.school.teacherApi, false, api.school.url).then(then);\r\n    }\r\n    \r\n    ///from api in other host\r\n    ///call get(NationalCode nationalCode) \r\n    ///params: {nationalCode: \"0123456789\"}\r\n    ///api: \"TeacherController\"\r\n    ///true: type is \"QueryString\"\r\n    ///url: \"http://192.168.3.202:9050/api/Teacher\"\r\n    this.getTeacherFromOtherSchool = function (params, then) {\r\n        restService.get(params, api.school.teacherApi, true, api.school.url).then(then);\r\n    }\r\n};\r\n\r\nservice.$inject = [\"RestService\"];\r\napp.service(\"Service\", service);\r\n```\r\n\r\n<h5>Angular Service: post / put</h5>\r\n```javascript\r\nvar service = function (restService) {\r\n    ///StudentController & TeacherController\r\n    var api = { \r\n        studentApi: \"Student\", \r\n        teacherApi: \"Teacher\", \r\n        school: {\r\n          teacherApi: \"Teacher\",\r\n          url: \"http://192.168.3.202:9050/api/\"\r\n        } \r\n    }; \r\n\r\n    ///call post(studentCommand command)\r\n    ///command: {firstName: \"x\", lastname: \"y\", nationalCode: \"0123456789\"}\r\n    ///api: \"StudentController\"\r\n    this.createStudent = function (command, then) {\r\n        restService.post(command, api.studentApi).then(then);\r\n    }\r\n    \r\n    ///call put(UpdateStudentCommand command)\r\n    ///command: {firstName: \"x\", lastname: \"y\", nationalCode: \"0123456789\"}\r\n    ///api: \"StudentController\"\r\n    this.editStudent = function (command, then) {\r\n        restService.put(command, api.studentApi).then(then);\r\n    }\r\n\r\n    ///call post(teacherCommand command)\r\n    ///command: {firstName: \"x\", lastname: \"y\", nationalCode: \"0123456789\"}\r\n    ///url: \"http://192.168.3.202:9050/api/Teacher\"\r\n    this.createTeacher = function (command, then) {\r\n        restService.post(command, api.school.teacherApi, api.school.url).then(then);\r\n    }\r\n    \r\n    ///call put(UpdateTeacherCommand command)\r\n    ///command: {firstName: \"x\", lastname: \"y\", nationalCode: \"0123456789\"}\r\n    ///url: \"http://192.168.3.202:9050/api/Teacher\"\r\n    this.editTeacher = function (command, then) {\r\n        restService.put(command, api.school.teacherApi, api.school.url).then(then);\r\n    }\r\n};\r\n\r\nservice.$inject = [\"RestService\"];\r\napp.service(\"Service\", service);\r\n```\r\n\r\n<h5>Angular Service: all types of delete</h5>\r\n```javascript\r\nvar service = function (restService) {\r\n    ///StudentController & TeacherController\r\n    var api = { \r\n        studentApi: \"Student\", \r\n        teacherApi: \"Teacher\", \r\n        school: {\r\n          teacherApi: \"Teacher\",\r\n          url: \"http://192.168.3.202:9050/api/\"\r\n        } \r\n    }; \r\n\r\n    ///delete with id\r\n    ///call delete(guid id)\r\n    ///params: [id]\r\n    ///api: \"StudentController\"\r\n    this.deleteStudent = function (params, then) {\r\n        restService.delete(params, api.studentApi).then(then);\r\n    }\r\n    \r\n    ///delete with command (don't forget to use FromUri in your api controller)\r\n    ///call delete([FromUri]RemoveTeacherCommand command)\r\n    ///command: {id: \"00000000-0000-0000-0000-000000000000\", code: 1000}\r\n    ///api: \"TeacherController\"\r\n    this.deleteTeacher = function (command, then) {\r\n        restService.delete(command, api.teacherApi, true).then(then);\r\n    }\r\n    \r\n    \r\n    ///delete with id\r\n    ///call delete(guid id)\r\n    ///params: [id]\r\n    ///api: \"TeacherController\"\r\n    ///false: type isn't \"QueryString\"\r\n    ///url: \"http://192.168.3.202:9050/api/Teacher\"\r\n    this.deleteTeacher = function (params, then) {\r\n        restService.delete(params, api.school.teacherApi, false, api.school.url).then(then);\r\n    }\r\n    \r\n    ///delete with command (don't forget to use FromUri in your api controller)\r\n    ///call delete([FromUri]RemoveTeacherCommand command)\r\n    ///command: {id: \"00000000-0000-0000-0000-000000000000\", code: 1000}\r\n    ///api: \"TeacherController\"\r\n    ///url: \"http://192.168.3.202:9050/api/Teacher\"\r\n    this.deleteTeacher = function (command, then) {\r\n        restService.delete(command, api.school.teacherApi, true, api.school.url).then(then);\r\n    }\r\n};\r\n\r\nservice.$inject = [\"RestService\"];\r\napp.service(\"Service\", service);\r\n```\r\n\r\n<h5>why restService used [], in the get</h5>\r\n```javascript\r\n  var id = \"00000000-0000-0000-0000-000000000000\";\r\n  service.getTeacher([id],function(data){\r\n    console.log(data);\r\n  });\r\n```\r\n\r\nin the rest api as default we have \"api/{controller}/{id}\", but what if we want have more params as optional like \"api/{controller}/{id}/{type}/{grade}\", in the RestService we use [] as optional params, for example:\r\n\r\n```javascript\r\n  var id = \"00000000-0000-0000-0000-000000000000\";\r\n  var type = true;\r\n  var grade = 5;\r\n  service.getTeacher([id, type, grade],function(data){\r\n    console.log(data);\r\n  });\r\n```\r\nthis service will send api like this: \"http://192.168.3.204:9005/api/Teacher/00000000-0000-0000-0000-000000000000/true/grade\"\r\n\r\n<hr>\r\n\r\n<a href=\"https://www.nuget.org/packages/AngularHttpRest/\">nuget package link</a>\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}